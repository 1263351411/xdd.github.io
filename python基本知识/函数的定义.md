## 函数
* 由诺干语句组成的语句块、函数名、参数列表构成，它是组织代码的最小单元
* 能完成一定的功能
* 是一个可调用对象，可以使用callable(函数名)判断该名称是否是一个可调用对象
* 数学定义：y=f(x), y是x的函数，x是自变量。y=f(x0,x1,...xn)  
#### 函数的作用
* 结构化编程对代码的最基本封装，一般按照功能组织一段代码
* 封装的目的为了复用，减少冗余代码
* 代码更加简洁美观、可读易懂
#### 函数的分类
* 内建函数，如：max()、reversed()等
* 库函数，如math.ceil()  
#### 函数的定义
* def语句定义函数
    * def 函数名（参数列表）：
        函数体（代码块）
        [return 返回值]
    * 函数名就是标识符。
    * 语句块必须缩进，约定4个空格
    * Python的函数如果没有return语句，那么默认会返回None值
    * 定义中的参数列表成为形式参数，只是一种符号表达（标识符），简称**形参**
    * 例如：
    ````python
    ##定义无参函数
    def Hellogdy():
        print("gdy")
    ##函数的调用
    Hellogdy()
    ##加法函数
    def add(x,y):
        return x+y
    ##调用函数
    print(add(7,8))
    ````  
#### 函数的调用
* 函数定义，只是在内存中**声明**了一个函数。需要**调用**才能执行该函数
* 调用方法：函数名加上小括号，如果有必要参数，需要在括号内写上参数
* 调用时写的参数是实际参数，是实实在在传入的值，简称**实参**
### 函数的参数
* 参数是调用函数时传入的。参数要和函数定义的形参想匹配(可变参数例外)
* 位置参数:按照参数定义顺序传入实参
    * 例如： def f(x,y,z)调用使用f(1,3,5)
* 关键字参数：使用形参的名字来传入实参的方式。如果使用了关键字参数，那么传参顺序就可以和定义顺序不同
    * 例如： def f(x,y,z)调用使用f(x=1,z=2,y=3) 
* 混合调用
    * 如果使用位置参数和关键字参数混合调用。那么**位置参数必须要在关键字参数之前传入，参数不能重复**
*例子：
````python
def add(x,y,z):
    return x+y+z
#使用位置参数调用
add(1,2,3) #此时形参x=1,y=2,z=3的方式按照顺序获取实参
#使用关键字参数调用
add(z=1,y=3,x=5) #直接指定形参的值调用函数
#形参和实参混合调用
add(4,z=5,y=3) ##正确， #错误写法add(4,x=3,z=8)
````   
#### 函数参数的默认值（缺省值）
* 在定义函数的形参时，给形参附加一个值。
* 例如：
````python
#4为函数形参x的默认值，5为函数形参y的默认值
def add(x=4,y=5):
    return x+y
````  
* 注意：如果定义函数时，有缺省值的参数必须放在没有缺省值参数的后面。
例如：
````python
def add(x,y=5):
    return x+y
````
* 作用
    * 参数的默认值可以在未传入足够的实参时，对没有给定的参数赋值即为默认值
    * 参数非常多的时候，并不需要用户每次都输入所有的参数，简化函数调用  
#### 函数的可变参数
* **可变位置参数**
    * 表示方法：【*变量名】
    * 一个形参可以匹配任意个参数。会收集多个实参组成一个tuple
    * 注意：
        1. 可变位置参数必须要在位置参数后面
        2. 可变位置参数不能使用关键字传参

    例如：
    ````python
    def addsum(*args):
        sum = 0
        for x in args:
            sum += i
        return sum
    #调用
    addsum(1,23,4,5,65,6) #返回所有参数的和
    def addsum2(a,b=4,*args):
        print(a,b,args)
    ````  
* **可变关键字参数**
    * 表示方法：【**变量名】
    * 形参前使用**符号，表示可以接收多个关键字参数
    * 收集的实参名称和值组成一个字典
    * 注意：
        * 可变关键字参数，必须要在所有参数最后面（即，参数，可变参数，可变位置参数）
    * 例如：
    ````python
    ##可变关键字传参定义
    def showname(**kwargs):
        for k,v in kwargs.items():
            print("{}:{}".format(k,v))
    ##调用
    showname(a=1,b=2,c=3)
    ````
#### 混合定义  
* 混合使用参数的时候，**可变关键字参数**要放到参数列表的最后，**普通参数**需要放到参数列表的前面，**关键字参数** 要放在**可变位置参数**和**可变关键字参数**之间
* 混合定义参数顺序：**普通参数，缺省值参数，可变位置参数，关键字参数(keyword-only)(可带缺省值)，可变关键字参数**
    * 注意：混合传参时，可变关键字参数名称不能与普通参数名称相同。

    ````python
    #定义：函数如下： 
    def showname(name,sex=6,*args,b=15,c,**kwargs):
        print("name={}\nsex={}\nargs={}\nb={}\nc={}\nkwargs={}".format(name,sex,args,b,c,kwargs))
    ##调用
    showname(1,5,4,5,b=23,c=34,hh=23)
    ````
    * 其中name,set为普通参数，其中sex带默认值6，name在接受值时优先级最高
    * args为可变参数，会收集函数中除了name和set外（即从第三个普通参数开始）其余剩下的普通参数（不包括关键字参数）
    * b为带默认值的关键字参数，c为必须传入的关键字参数
    * kwargs为可变关键字参数，会收集除key不在{a,b}内的所有关键字参数。  
    * 例如：
    ![fun001](https://raw.githubusercontent.com/1263351411/xdd.github.io/master/img/fun001.jpg)  
#### 参数定义中的特殊符号：
* 例如：def app(*,a,b) 其中 * 号没有特殊意义，但这种方式标识了a,b必须是关键字参数
    * 【*】星号之后的普通形参都变成了keyword-Only(关键字参数)
    ````python  
    def add(*,x=4,y):
        print(x+y)
    add(x=3,y=9)
    ```` 
#### 参数解构
* 给函数提供实参的时候，可以在集合类型前使用*或者**，把集合类型的解构解开，提取所有元素作为函数的实参
* 非字典类型使用*解构成位置参数
* 字典类型使用**解构成关键字参数
* 提取出来的元素数目要和参数的要求匹配，也要和参数的类型匹配
    * 例如：add(**{"x":4,"y":5}) #等价于add(x=4,y=5),其中两个星号表示两层解构
    ````python
    def add(x,y):
        return x+y
    add(*[4,5]) #相当于add(4,5)
    add(*{'a':4,'b':5}) #相当于add("a","b")
    add(**{"x":4,"y":5}) #等价于add(x=4,y=5),其中两个星号表示两层解构
    ##add(**{'a':4,'b':5})# 等价于add(a=4,b=5),由于没有找到对应的参数x,y所以会出错
    ````

* 总结
    * 有位置可变参数和关键字可变参数
    * 位置可变参数在形参前使用一个星号*，关键字可变参数使用两个星号**
    * 位置可变参数和关键字可变参数都可以手机若干个实参，位置可变参数收集形成一个tuple,关键字可变参数收集成一个dict
    * 混合使用参数的时候，**可变关键字参数**要放到参数列表的最后，**普通参数**需要放到参数列表的前面，**关键字参数** 要放在**可变位置参数**和**可变关键字参数**之间




